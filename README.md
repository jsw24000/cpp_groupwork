# 北大树坑 - 校园论坛系统

# 必要的说明：
     由于项目使用了联网功能，所以需要同时运行client端和server端
     否则client端无法注册和登录 
     联网时需要在client的main文件中手动设置服务器在局域网中的IP 
     由于IP硬编码的原因，client_deploy中的可执行文件无法连接其他服务器，仅供展示
## 项目简介

北大树坑是一个基于Qt框架开发的校园论坛系统，采用客户端-服务器架构。用户可以在这个平台上发布帖子、评论、收藏、搜索等，是一个功能完整的校园社交论坛应用。

## 主要功能

### 📝 发帖功能
- 支持文本内容发布
- 可添加关键词标签
- 支持匿名发布选项

### 👤 用户系统
- 用户注册与登录
- 个人信息管理（学号、院系、手机号等）
- 密码安全保护

### 💬 互动功能
- 帖子评论与回复
- 帖子收藏功能
- 实时评论显示

### 🔍 搜索功能
- 关键词搜索帖子内容
- 按帖子编号搜索（#数字格式）
- 智能搜索结果匹配

### 🎨 界面特色
- 现代化Qt界面设计
- 双栏布局（主页/个人中心）
- 滚动式帖子展示
- 响应式界面元素

## 技术架构

### 前端（客户端）
- **框架**: Qt 6+ with C++17
- **网络**: QTcpSocket
- **界面**: Qt Widgets + UI Files
- **数据**: JSON格式通信

### 后端（服务器）
- **网络**: QTcpServer
- **存储**: 文件系统存储
- **搜索**: 内置搜索引擎
- **并发**: 多客户端支持

## 项目结构

```
qtgroupwork/
├── main.cpp                 # 程序入口
├── mainwindow.cpp/h/ui      # 主窗口（首页+个人中心）
├── login.cpp/h/ui           # 登录界面
├── signup.cpp/h/ui          # 注册界面
├── addpostdialog.cpp/h/ui   # 发帖对话框
├── postwidget.cpp/h/ui      # 帖子显示组件
├── comment.cpp/h/ui         # 评论界面
├── reply.cpp/h/ui           # 回复对话框
├── client.cpp/h             # 客户端网络通信
├── post.cpp/h               # 帖子数据模型
├── searchmanager.cpp/h      # 搜索管理器
├── myserver.cpp/h           # 服务器端代码
├── server_deploy/           # 服务器部署目录
│   └── final_server.exe     # 服务器可执行文件
├── client_deploy/           # 客户端部署目录
│   └── qtgroupwork.exe      # 客户端可执行文件
└── 资源文件/
    ├── icon/                # 界面图标
    └── res.qrc             # Qt资源文件
```

## 安装与运行

### 系统要求
- Windows 10/11
- Qt 6.0+ 运行时库
- 网络连接

### 部署结构
项目采用分离式部署架构：
- **服务器端**: `server_deploy/final_server.exe`
- **客户端**: `client_deploy/qtgroupwork.exe`

### 运行步骤

1. **启动服务器**
   ```bash
   # 进入服务器部署目录并运行
   cd server_deploy
   final_server.exe
   ```

2. **启动客户端**
   ```bash
   # 进入客户端部署目录并运行
   cd client_deploy
   qtgroupwork.exe
   ```

3. **网络配置**
   - 默认服务器IP: `192.168.43.242`
   - 默认端口: `1234`
   - 可在main.cpp中修改IP配置

### 首次使用

1. 确保服务器端（`server_deploy/final_server.exe`）已启动
2. 运行客户端（`client_deploy/qtgroupwork.exe`）进入登录界面
3. 点击"没有账号？点击注册"创建新账户
4. 填写用户名和密码完成注册
5. 登录后即可开始使用论坛功能

## 使用指南

### 发布帖子
1. 点击主页右上角的"+"按钮
2. 在文本框中输入帖子内容
3. 可选择添加关键词标签
4. 可选择匿名发布
5. 点击确定发布

### 浏览与互动
- **浏览帖子**: 在主页滚动查看所有帖子
- **评论帖子**: 点击帖子下方"评论"按钮
- **收藏帖子**: 点击帖子下方"收藏"按钮
- **搜索帖子**: 使用顶部搜索框进行关键词搜索

### 个人中心
- **查看个人信息**: 点击底部"个人中心"按钮
- **编辑信息**: 点击右上角编辑按钮
- **查看收藏**: 点击"查看收藏"按钮

## 数据存储

### 文件结构
```
src/
├── posts/                   # 帖子存储目录
│   ├── post_0.txt
│   ├── post_1.txt
│   └── ...
├── users/                   # 用户信息目录
│   ├── username1.txt
│   └── ...
├── favorites/               # 用户收藏目录
│   ├── favorites_username.txt
│   └── ...
├── comments/                # 评论存储目录
│   └── ...
└── totalnumber.txt         # 帖子计数文件
```

## 网络通信协议

### JSON消息格式

**发帖请求**:
```json
{
    "type": "POST",
    "content": "帖子内容"
}
```

**登录请求**:
```json
{
    "type": "LOGIN",
    "username": "用户名",
    "password": "密码"
}
```

**搜索请求**:
```json
{
    "type": "SEARCH",
    "keyword": "搜索关键词"
}
```

## 开发团队

这是一个Qt C++开发的校园论坛项目，体现了完整的客户端-服务器架构设计。

## 版本信息

- **当前版本**: 1.0.0
- **开发语言**: C++17
- **UI框架**: Qt 6+
- **编译器**: MSVC/GCC

## 部署说明

### 服务器部署
- 可执行文件：`server_deploy/final_server.exe`
- 运行环境：Windows服务器或开发机
- 端口配置：默认1234端口

### 客户端部署
- 可执行文件：`client_deploy/qtgroupwork.exe`
- 运行环境：Windows客户端
- 依赖：Qt运行时库

## 注意事项

1. 首次运行需要确保服务器端（`server_deploy/final_server.exe`）已启动
2. 网络配置需要根据实际环境调整
3. 建议在局域网环境下使用
4. 用户数据存储在本地文件系统中
5. 服务器和客户端部署在不同目录，便于分离式部署

## 故障排除

### 常见问题

**无法连接服务器**:
- 检查`server_deploy/final_server.exe`是否已启动
- 确认IP地址和端口配置
- 检查防火墙设置

**登录失败**:
- 确认用户名和密码正确
- 检查网络连接状态

**发帖失败**:
- 确认与服务器连接正常
- 检查帖子内容是否为空

**程序无法启动**:
- 确认Qt运行时库已安装
- 检查可执行文件路径是否正确

---

*北大树坑 - 让校园交流更简单* 🌳